#! /bin/bash

# Variables
script="/home/huan/Scripts/Musica/blog/mfuz/hugo_blog_relearn_theme.py"
img_path="/mnt/windows/FTP/wiki/Obsidian/Dibujos/img"
app_path="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/scripts"

# BASE DE DATOS

# Indice
obs_file_db="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/Base de datos.md"
obs_dir_db="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/"



# Indices grupos

# punto partida
obs_file_db_A="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Punto de partida.md"
obs_dir_db_A="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_A="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Punto de partida"

# datos basicos
obs_file_db_C="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos básicos.md"
obs_dir_db_C="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos básicos"
hugo_dir_db_C="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos básicos"

# datos extra
obs_file_db_D="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos extra.md"
obs_dir_db_D="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos extra"
hugo_dir_db_D="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra"



# GRUPO BÁSICO 

# enlaces
obs_file_db_B="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos básicos/Enlaces.md"
obs_dir_db_B="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_B="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos básicos/Enlaces"

# escuchas
obs_file_db_K="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos básicos/Escuchas.md"
obs_dir_db_K="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_K="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos básicos/Escuchas"

# imagenes
obs_file_db_O="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos básicos/Imágenes.md"
obs_dir_db_O="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_O="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos básicos/Imágenes"

# letras
obs_file_db_N="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos básicos/Letras.md"
obs_dir_db_N="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_N="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos básicos/Letras"

# wikipedia
obs_file_db_M="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/Datos básicos/Wikipedia.md"
obs_dir_db_M="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_M="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos básicos/Wikipedia"



# GRUPO EXTRA

# sellos
obs_file_db_E="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/Sellos.md"
obs_dir_db_E="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_E="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/sellos"

# instrumentos
obs_file_db_F="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/Instrumentos.md"
obs_dir_db_F="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_F="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Instrumentos"

# charts
obs_file_db_G="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/Charts.md"
obs_dir_db_G="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_G="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Charts"

# libros
obs_file_db_H="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/Libros.md"
obs_dir_db_H="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_H="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Libros"

# reviews
obs_file_db_I="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/Reviews.md"
obs_dir_db_I="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_I="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Reviews"

# discografias
obs_file_db_J="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/Discografías.md"
obs_dir_db_J="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_J="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/discografías"


# RYM
obs_file_db_L="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/Rym.md"
obs_dir_db_L="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_L="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Rym"

# ediciones
obs_file_db_P="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/ediciones.md"
obs_dir_db_P="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_P="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Ediciones"

# descargas
obs_file_db_Q="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/descargas.md"
obs_dir_db_Q="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_Q="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Descargas"

# conciertos
obs_file_db_R="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/grupos/datos extra/conciertos.md"
obs_dir_db_R="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/creacion base de datos/pasos"
hugo_dir_db_R="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/base datos/Datos extra/Conciertos"



# Modulos
obs_file_modulos="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/modulos/Aplicación.md"
obs_dir_modulos="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/modulos"
hugo_dir_modulos="/mnt/NFS/blogs/music-fuzzy-doc/content/aplicacion"

# Instalacion
obs_file_install="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/instalacion/Instalación.md"
obs_dir_install="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/instalacion"
hugo_dir_install="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion"

# Credenciales
obs_file_creds="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/Credenciales/Credenciales.md"
obs_dir_creds="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/credenciales"
hugo_dir_creds="/mnt/NFS/blogs/music-fuzzy-doc/content/instalacion/Credenciales"

# Web
obs_file_docker_web="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/web_docker/Web.md"
obs_dir_docker_web="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/web_docker"
hugo_dir_docker_web="/mnt/NFS/blogs/music-fuzzy-doc/content/web_docker"




# ___EJECUCIONES ____

python "${script}" --md-base-file "${obs_file_install}" --destino-md "${hugo_dir_install}" --content-folder "${obs_dir_install}" --base-weight 1 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_modulos}" --destino-md "${hugo_dir_modulos}" --content-folder "${obs_dir_modulos}" --base-weight 3 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_docker_web}" --destino-md "${hugo_dir_docker_web}" --content-folder "${obs_dir_docker_web}" --base-weight 5 --img-path "${img_path}" --app-path "${app_path}"

# instalacion

# credenciales
python "${script}" --md-base-file "${obs_file_creds}" --destino-md "${hugo_dir_creds}" --content-folder "${obs_dir_creds}" --base-weight 4 --img-path "${img_path}" --app-path "${app_path}"


# db index
python "${script}" --md-base-file "${obs_file_db}" --destino-md "${hugo_dir_db}" --content-folder "${obs_dir_db}" --base-weight 1 --img-path "${img_path}" --app-path "${app_path}"
# db datos indices
python "${script}" --md-base-file "${obs_file_db_A}" --destino-md "${hugo_dir_db_A}" --content-folder "${obs_dir_db_A}" --base-weight 1 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_C}" --destino-md "${hugo_dir_db_C}" --content-folder "${obs_dir_db_C}" --base-weight 2 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_D}" --destino-md "${hugo_dir_db_D}" --content-folder "${obs_dir_db_D}" --base-weight 3 --img-path "${img_path}" --app-path "${app_path}"


# db datos básicos
python "${script}" --md-base-file "${obs_file_db_B}" --destino-md "${hugo_dir_db_B}" --content-folder "${obs_dir_db_B}" --base-weight 1 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_M}" --destino-md "${hugo_dir_db_M}" --content-folder "${obs_dir_db_M}" --base-weight 2 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_N}" --destino-md "${hugo_dir_db_N}" --content-folder "${obs_dir_db_N}" --base-weight 3 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_O}" --destino-md "${hugo_dir_db_O}" --content-folder "${obs_dir_db_O}" --base-weight 4 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_K}" --destino-md "${hugo_dir_db_K}" --content-folder "${obs_dir_db_K}" --base-weight 5 --img-path "${img_path}" --app-path "${app_path}"



# datos extra
python "${script}" --md-base-file "${obs_file_db_L}" --destino-md "${hugo_dir_db_L}" --content-folder "${obs_dir_db_L}" --base-weight 1 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_E}" --destino-md "${hugo_dir_db_E}" --content-folder "${obs_dir_db_E}" --base-weight 2 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_J}" --destino-md "${hugo_dir_db_J}" --content-folder "${obs_dir_db_J}" --base-weight 3 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_I}" --destino-md "${hugo_dir_db_I}" --content-folder "${obs_dir_db_I}" --base-weight 4 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_H}" --destino-md "${hugo_dir_db_H}" --content-folder "${obs_dir_db_H}" --base-weight 5 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_G}" --destino-md "${hugo_dir_db_G}" --content-folder "${obs_dir_db_G}" --base-weight 6 --img-path "${img_path}" --app-path "${app_path}" --exclude-files "${obs_file_db_G}"
python "${script}" --md-base-file "${obs_file_db_F}" --destino-md "${hugo_dir_db_F}" --content-folder "${obs_dir_db_F}" --base-weight 7 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_P}" --destino-md "${hugo_dir_db_P}" --content-folder "${obs_dir_db_P}" --base-weight 8 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_Q}" --destino-md "${hugo_dir_db_Q}" --content-folder "${obs_dir_db_Q}" --base-weight 9 --img-path "${img_path}" --app-path "${app_path}"
python "${script}" --md-base-file "${obs_file_db_R}" --destino-md "${hugo_dir_db_R}" --content-folder "${obs_dir_db_R}" --base-weight 10 --img-path "${img_path}" --app-path "${app_path}"



# Index
index_file="/mnt/windows/FTP/wiki/Obsidian/Spaces/Blogs/snipets y scripts/music-fuzzy/mfuzz.md"
destino_index="/mnt/NFS/blogs/music-fuzzy-doc/content/_index.md"

cp "${index_file}" temp

# Agregar fecha actualización
echo " " >> temp
echo " " >> temp
echo "---" >> temp
echo "_actualizado el $(date +%d-%m-%Y\ %H:%m)_" >> temp

# Cambiar frontmatter para hugo
{
  printf -- "---\n"
  printf -- "title: mfuzz\n"
  printf -- "type: home\n"
  printf -- "---\n"
  tail -n +5 temp
} > tmp && mv tmp "${destino_index}"

rm temp 

# Eliminar tablas de tareas de obsidian
find "/mnt/NFS/blogs/music-fuzzy-doc/content/" -name "*.md" -type f -exec sed -i '/^```tasks$/,/^```$/d' {} \;




